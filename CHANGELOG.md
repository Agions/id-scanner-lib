# 变更日志 (Changelog)

## 未发布 (Upcoming)

### v2.0.0：企业级解决方案

- **云端协同验证**：
  - 可选云端验证API
  - 本地与云端结果比对
  - 多级安全验证
- **高级分析功能**：
  - 证件使用统计与分析
  - 风险评估模型
  - 异常检测系统
- **行业解决方案包**：
  - 金融行业KYC流程集成
  - 酒店/零售快速登记系统
  - 政务/安防高安全性验证
- **企业级管理功能**：
  - 多租户支持
  - 批量处理队列
  - 完整审计日志

### v1.7.0：性能与架构优化

- **WebAssembly实现**：
  - 核心图像处理算法WASM化
  - 性能提升3-5倍
  - 更低的CPU占用
- **离线支持**：
  - 完整离线运行能力
  - 基于IndexedDB的本地缓存
  - Service Worker支持
- **微前端集成**：
  - React/Vue/Angular专用组件
  - 更简单的集成API
  - TypeScript类型增强
- **渐进式加载**：
  - 核心功能快速加载
  - 按需延迟加载附加模块
  - 预测性加载提高响应速度

### v1.6.0：UI/UX改进与组件库升级

- **现代化UI框架**：
  - 基于Web Components的组件系统
  - 自适应扫描界面
  - 多主题支持（含暗色模式）
- **交互体验优化**：
  - 实时扫描引导框
  - 智能对焦与取景提示
  - 证件边缘自动检测与校正
- **可访问性支持**：
  - 屏幕阅读器兼容
  - 键盘导航
  - 多语言本地化
- **动效与反馈**：
  - 平滑过渡动画
  - 触觉反馈（移动设备）
  - 声音反馈与语音提示

### v1.5.0：多证件类型支持

- **护照识别**：
  - MRZ码（机读区）解析
  - 多国护照模板适配
  - 芯片信息读取（ePassport支持）
- **驾驶证识别**：
  - 驾驶证OCR识别
  - 驾驶资格与限制条件解析
  - 国际驾照支持
- **营业执照识别**：
  - 企业信息提取
  - 统一社会信用代码验证
  - 经营范围解析
- **银行卡识别**：
  - 卡号、有效期识别
  - 银行标识解析
  - BIN码验证

### v1.4.0：人脸比对与活体检测

- **人脸比对模块**：
  - 身份证照片与现场采集照片的比对功能
  - 基于深度学习的人脸特征提取与分析
  - 提供相似度评分与置信度
- **活体检测**：
  - 眨眼、张嘴等动作检测防止照片欺骗
  - 基于光线反射的3D检测技术
  - 多帧分析提高检测准确率
- **安全增强**：
  - 本地处理所有数据，保护隐私
  - 结果加密存储选项
  - 合规性验证工具

## 已发布 (Released)

## 1.3.2

### 新增特性 (Features)

- **身份证防伪检测**：
  - 支持荧光油墨、微缩文字、光变图案等5种防伪特征检测
  - 基于多特征综合评分，提供置信度评估
  - 缓存机制提高重复检测性能
- **图像处理引擎升级**：
  - 增强的图像锐化算法，提高低光照环境下的识别率
  - 自适应阈值算法，优化二值化效果
  - 基于OTSU算法的自动阈值选择

### 改进 (Improvements)

- **性能优化**：
  - 代码压缩与Tree-shaking优化，减少30%以上的包体积
  - 引入智能缓存机制，避免重复计算
  - Web Worker支持，提高多核CPU利用率
- **架构改进**：
  - 资源自动释放机制
  - 更精细的模块划分
  - 增强的错误处理

### API变更 (API Changes)

- 新增 `detectIDCardAntiFake`方法用于防伪检测
- 扩展 `IDCardInfo`接口，添加防伪检测结果
- 新增 `onAntiFakeDetected`回调支持

## 1.3.0

### 新增特性 (Features)

- 批量图像处理API
- 内置图像压缩功能
- 一体化演示组件

### 改进 (Improvements)

- 优化二维码识别算法，提高识别率
- 改进摄像头控制逻辑，增强适应性
- 更新文档示例

## 1.2.2

### 改进 (Improvements)

- 更新日期格式统一
- 完善OCR Worker类型定义

### 修复 (Bug Fixes)

- 修复剩余类型检查警告

## 1.2.1

### 修复 (Bug Fixes)

- 修复节流和防抖函数中 `this` 隐式类型问题
- 修复 LRUCache 中可能出现的 undefined 引用问题
- 修复 OCR Worker 中的类型错误
- 优化类型定义，提高代码健壮性

## 1.2.0

### 新增特性 (Features)

- 实现Web Worker多线程处理，将OCR和图像处理逻辑移至后台执行
- 添加资源自动管理机制，防止内存泄漏
- 优化图像预处理流程，自动降低分析图像尺寸提高速度
- 实现视频帧处理节流，避免过度计算提升性能
- 添加图像指纹和结果缓存系统，避免重复识别

### 改进 (Improvements)

- 更新README.md，添加高级性能优化文档
- 优化错误处理，提供更详细的错误信息

### 修复 (Bug Fixes)

- 修复logger调用参数问题

## 1.1.1

### 改进 (Improvements)

- 优化IDCardDetector类构造函数，支持options选项参数
- 完善类型定义，提升TypeScript支持

### 修复 (Bug Fixes)

- 修复多个类型错误和接口兼容性问题

## 1.1.0

### 新增特性 (Features)

- 模块化重构，实现按需加载
- 增加资源管理功能，优化内存使用
- 添加图像增强功能

### 改进 (Improvements)

- 优化构建流程，大幅减小打包体积
- 改进API文档，提供更多示例代码

### 修复 (Bug Fixes)

- 修复摄像头无法释放的问题
- 修复OCR识别成功率低的问题

## 1.0.0

### 初始版本 (Initial Release)

- 实现二维码扫描功能
- 实现身份证识别和OCR功能
- 提供基础图像处理功能
- 支持浏览器和移动设备WebView
